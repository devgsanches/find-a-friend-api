generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Role {
  ORG
  USER
}

enum Age {
  Filhote
  Adulto
  Idoso
}



model Pet {
  id                  String   @id @default(uuid())
  name                String
  about               String
  age                 Age
  size                String
  energyLevel         Int     @map("energy_level")
  levelOfIndependence String   @map("level_of_independence")
  environment         String
  city                String
  organizationId      String   @map("organization_id")
  createdAt           DateTime @default(now()) @map("created_at")
  updatedAt           DateTime @updatedAt @map("updated_at")

  // relation with organization
  organization Organization @relation(fields: [organizationId], references: [id])

  @@map("pets")
}

model Organization {
  id              String @id @default(uuid())
  responsibleName String @map("responsible_name")
  email           String @unique
  passwordHash    String @map("password_hash")
  role            Role   @default(ORG)
  cep             String
  city            String
  address         String
  phone           String
   createdAt           DateTime @default(now()) @map("created_at")
  updatedAt           DateTime @updatedAt @map("updated_at")

  pets Pet[]

  @@map("organizations")
}

model User {
  id        String @id @default(uuid())
  name      String
  email     String @unique
  passwordHash  String @map("password_hash")
  role          Role   @default(USER)
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@map("users")
}
